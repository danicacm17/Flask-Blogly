{% extends 'base.html' %}

{% block title %}Users{% endblock %}

{% block content %}
<h1>Users</h1>

<!-- Add user button at the top -->
<a class="btn btn-primary mt-3" href="/users/new">Add New User</a>

<ul class="list-group">
  {% for user in users %}
    <li class="list-group-item d-flex justify-content-between align-items-center">
      <span class="name-link"><a href="/users/{{ user.id }}">{{ user.full_name }}</a></span>  <!-- Display user's full name -->
      
      <!-- Button group for each user -->
      <div class="btn-group">
        <!-- View button -->
        <a href="/users/{{ user.id }}" class="btn-view">View</a>
        
        <!-- Edit button -->
        <a href="/users/{{ user.id }}/edit" class="btn-edit">Edit</a>
        
        <!-- Delete button (with confirmation) -->
        <form action="/users/{{ user.id }}/delete" method="POST" class="d-inline">
          <button type="submit" class="btn-delete" onclick="return confirm('Are you sure you want to delete this user?')">Delete</button>
        </form>
      </div>
    </li>
  {% endfor %}
</ul>

<a class="btn btn-primary mt-3" href="/users/new">Add New User</a>

{% endblock %}
